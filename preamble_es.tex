\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage[pdftex]{hyperref}
\usepackage{amsmath,amsthm,amssymb,graphicx,mathtools,tikz,hyperref,enumerate}
\usepackage{mdframed,cleveref,cancel,stackengine,pgf,pgfplots,mathrsfs,thmtools}
\usepackage{xfrac,stmaryrd,commath,needspace,multirow,float,siunitx,faktor, centernot}
\usepackage[shortlabels]{enumitem}
\usepackage[spanish,es-lcroman]{babel}

\usepackage{makeidx}
\usepackage{hyperref}
\usepackage[
    type={CC},
    modifier={by-nc-sa},
    version={4.0},
]{doclicense}

\newmdenv[leftline=false,topline=false]{topright}
\let\proof\relax
\usetikzlibrary{positioning,arrows, calc, babel}
\usetikzlibrary{external}
\tikzexternalize[prefix=figures/]
\pgfplotsset{compat=1.11}

\newcommand*{\bimplies}{\boxed{\implies}}
\newcommand*{\bimpliedby}{\boxed{\impliedby}}

\newcommand{\n}{\mathbb{N}}
\newcommand{\z}{\mathbb{Z}}
\newcommand{\q}{\mathbb{Q}}
\newcommand{\cx}{\mathbb{C}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\R}{\mathcal{R}}
\newcommand{\C}{\mathscr{C}}
\newcommand{\Pa}{\mathcal{P}}
\newcommand{\Es}{\mathcal{E}}
\newcommand{\V}{\mathcal{V}}
\newcommand{\T}{\mathcal{T}}
\newcommand{\B}{\mathcal{B}}
%\newcommand{\O}{\mathcal{O}}
\newcommand{\Sim}{\mathcal{S}}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\pdv}[3][]{\frac{\partial^{#1} #2}{\partial #3^{#1}}}
\newcommand{\dv}[3][]{\frac{\dif^{#1} #2}{\dif #3^{#1}}}
\let\k\relax
\newcommand{\k}{\Bbbk}
\newcommand{\ita}[1]{\textit{#1}}
\newcommand\inv[1]{#1^{-1}}
\newcommand\setb[1]{\left\{#1\right\}}
\newcommand{\vbrack}[1]{\langle #1\rangle}
\newcommand{\determinant}[1]{\begin{vmatrix}#1\end{vmatrix}}
\newcommand{\Po}{\mathbb{P}}
\newcommand{\lp}{\left(}
\newcommand{\rp}{\right)}
\newcommand{\lc}{\left\{}
\newcommand{\rc}{\right\}}
\newcommand{\limvar}[2]{\lim\limits_{#1 \rightarrow #2}}   % Para escribir limites más rapido
\newcommand{\fl}[0]{\text{fl}} % Representación en coma flotante
\newcommand{\sgn}[0]{\text{sgn}}% Función signo (sgn) de una permutación
\newcommand{\diag}[0]{\text{diag}}% Notación corta para matriz diagonal: diag(d_1,...,d_n)
\newcommand{\vspan}[0]{\text{span}}
\newcommand{\scin}[1]{\ensuremath\SI{#1}{}}
\newcommand{\ap}[1]{\ensuremath\overline{#1}}
\newcommand{\Sup}[1]{\ensuremath\underset{#1}{\sup}}
\newcommand{\Max}[1]{\ensuremath\underset{#1}{\max}}
\newcommand{\Min}[1]{\ensuremath\underset{#1}{\min}}
\newcommand{\notimplies}{\mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}
\newcommand{\spr}[1]{\langle #1 \rangle}% Prodcuto escalar
\newcommand{\Asuc}{\mathcal{A}} %Conjunt de successos

\DeclareMathOperator{\Ec}{Ec}
\DeclareMathOperator{\Ep}{Ep}
\DeclareMathOperator{\orden}{o}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\card}{card}
\DeclareMathOperator{\mcm}{mcm}
\DeclareMathOperator{\mcd}{mcd}
\DeclareMathOperator{\Em}{Em}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\fr}{Fr}
\DeclareMathOperator{\Id}{Id}
\DeclareMathOperator{\ext}{Ext}
\DeclareMathOperator{\inte}{Int}
\DeclareMathOperator{\rie}{Rie}
\DeclareMathOperator{\rg}{rg}
\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\nuc}{Nuc}
\DeclareMathOperator{\car}{car}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\rot}{rot}
\DeclareMathOperator{\diver}{div}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\graf}{graf}
\DeclareMathOperator{\tq}{\;t.q.\;}
\DeclareMathOperator{\disc}{disc}
\let\emptyset\varnothing
\setcounter{secnumdepth}{4}

\def\mydate{\today}
\hypersetup{
    colorlinks,
    linkcolor=blue
}
\def\upint{\mathchoice%
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
  \int}
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}

\newtheoremstyle{break}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{\thmname{#1}\thmnumber{ #2}.\thmnote{ {\it #3.}}}%         Thm head spec

\newtheoremstyle{demo}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\it}% Thm head font
{}%        Punctuation after thm head
{5pt plus 1pt minus 1pt}% Space after thm head: \newline = linebreak
{#1\thmnote{ #3}.}%         Thm head spec

\newtheoremstyle{breakthm}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{#1 \normalfont #3 (#2)\addcontentsline{toc}{subsection}{#1 #3}}%         Thm head spec

\newtheoremstyle{normal}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{}%        Punctuation after thm head
{5pt plus 1pt minus 1pt}% Space after thm head: \newline = linebreak
{\thmname{#1}\thmnumber{ #2}.\thmnote{ {\it #3.}}}%         Thm head spec

\newtheoremstyle{autodefi}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{}%        Punctuation after thm head
{5pt plus 1pt minus 1pt}% Space after thm head: \newline = linebreak
{\index{#3((defi:#2))}\label{defi:#2}\thmname{#1}\thmnumber{ #2}.}%         Thm head spec

% Normal
\declaretheorem[style=normal,name=Lema,numberwithin=section]{lema}
\declaretheorem[style=normal,name=Lema,numbered=no]{lema*}
\declaretheorem[style=normal,name=Observación,sibling=lema]{obs}
\declaretheorem[style=normal,name=Observación,numbered=no]{obs*}
\declaretheorem[style=normal,name=Proposición,sibling=lema]{prop}
\declaretheorem[style=normal,name=Proposición,numbered=no]{prop*}
\declaretheorem[style=autodefi,name=Definición,sibling=lema]{defi}
\declaretheorem[style=normal,name=Definición,sibling=lema]{defi*}
\declaretheorem[style=normal,name=Corolario,sibling=lema]{col}
\declaretheorem[style=normal,name=Corolario,numbered=no]{col*}
\declaretheorem[style=normal,name=Ejercicio,sibling=lema]{ej}
\declaretheorem[style=normal,name=Ejercicio,numbered=no]{ej*}
\declaretheorem[style=normal,name=Ejemplo,sibling=lema]{example}
\declaretheorem[style=normal,name=Ejemplo,numbered=no]{example*}
\declaretheorem[style=normal,name=Problema,sibling=lema]{problema}
\declaretheorem[style=normal,name=Problema,numbered=no]{problema*}

% Demo
\declaretheorem[style=demo,name=Demostración,qed=$\square$,numbered=no]{proof}
\declaretheorem[style=demo,name=Solución,numbered=no]{sol}


% Break
\declaretheorem[style=break,name=Teorema,sibling=lema]{teo*}

% Breakthm
\declaretheorem[style=breakthm,name=Teorema,sibling=lema]{teo}
\declaretheorem[style=breakthm,name=Lema,numberwithin=section]{teolema}

\makeindex
\usepackage[totoc]{idxlayout}       % Glossari a l'índex
