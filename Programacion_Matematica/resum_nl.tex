\section{Programaci\'o no lineal sense restriccions}

\begin{teo*}[Condicions necess\`aries d'optimalitat]
    Sigui $f \colon \real^n \to \real$ un problema d'optimitzaci\'o no lineal $\min_{x\in\real^n} f\left( x \right)$. Si $x^*$ \'es un m\'inim local de $f$ i $f \in \mathcal{C}^2$ en un entorn de $x^*$, llavors:
    \begin{enumerate}[i)]
        \item $\nabla f\left( x^* \right) = 0$. (Condici\'o de 1r ordre)
        \item $\nabla^2 f\left( x^* \right) \geq 0$. (Condici\'o de 2n ordre)
    \end{enumerate}
\end{teo*}
\begin{teo*}[Condicions suficients d'optimalitat]
    Si $f \in \mathcal{C}^2$ en un entorn obert de $x^*$, $\nabla f\left( x^* \right) = 0$ i $\nabla^2 f\left( x^* \right)$ \'es definida positiva, llavors $x^*$ \'es m\'inim local estricte de $f$.
\end{teo*}
\begin{teo*}[Condicions d'optimalitat en problemes convexos]
    Si $f$ \'es convexa i diferenciable, llavors $\nabla f\left( x^* \right) = 0 \iff x^*$ \'es m\'inim global de $f$.
\end{teo*}
\begin{met}[del Gradient]
    $x^{k+1} = x^k + \alpha^kd^k$, \quad $d^k = -\nabla f\left( x^k \right), \quad \alpha$ ha de complir les condicions d'Armijo-Wolfe.
\end{met}
\begin{met}[de Newton]
    $x^{k+1} = x^k + \alpha^kd^k$, \quad $d^k = -\left( \nabla^2 f\left( x \right) \right)^{-1} \nabla f\left( x^* \right)$, \quad$\alpha^k = 1$.
\end{met}
\begin{prop}[Condicions d'Armijo-Wolfe]
    \begin{enumerate}[i)]
        \item[]
        \item Condici\'o de descens suficient (AW-1): \\
            \indent $g\left( \alpha \right) \leq g\left( 0 \right) + \alpha c_1g'\left( 0 \right), \quad c_1 \in (0,1).$ \\
            \indent $f\left( x^k + \alpha d^k \right) \leq f\left( x^k \right) + \alpha c_1 \nabla f\left( x^k \right)^t d^k, \quad c_1 \in (0,1).$
        \item Condici\'o de corbatura (AW-2): \\
            \indent $g'\left( \alpha \right) \geq c_2 g'\left( 0 \right), \quad 0 < c_1 < c_2 < 1.$ \\
        \indent $\nabla f\left( x^k + \alpha d^k \right)^td^k \geq c_2 \nabla f\left( x^k \right)d^k, \quad 0 < c_1 < c_2 < 1$.
    \end{enumerate}
\end{prop}

\section{Programaci\'o no lineal amb restriccions}

Donat el problema:
\begin{equation*}
    \lp P \rp \begin{dcases*}
        \min f \left( x \right) \\
        \text{s.a.: } \\
        \quad \left( 1 \right) \quad h \left( x \right) = 0 \\
        \quad \left( 2 \right) \quad g \left( x \right) \leq 0 \\
    \end{dcases*}
\end{equation*}
Amb $\mathcal{L} \left( x, \lambda, \mu \right) = f\left( x \right) + \lambda^t h\left( x \right) + \mu^t g\left( x \right)$.

\begin{prop}[Condicions necess\`aries]
    Sigui $x^*$ \`optim local. Si \'es punt regular, llavors $\exists \lambda^* \in \real^m$ i $\mu^* \in \real^p$ tals que:
    \begin{enumerate}[i)]
        \item \label{nec:1} $h\left( x^* \right) = 0,\, g\left( x^* \right) \leq 0$.
        \item \label{nec:2} $\nabla_x \mathcal{L}\left( x^*, \lambda^*, \mu^* \right) = \nabla f\left( x^* \right) + \nabla h\left( x^* \right) \lambda^* \nabla g\left( x^* \right)\mu^* = 0$.
        \item \label{nec:3} $\mu^* \geq 0$ i $\left( \mu^* \right)^t g\left( x^* \right) = 0$ (si $g_i\left( x^* \right)$ \'es inactiva, llavors $\mu_j^* = 0$).
        \item \label{nec:4} $d^t \nabla_{x_ix_j}^2 \mathcal{L} \left( x^*, \lambda^*, \mu^* \right) d \geq 0, \forall d\in M =
            \begin{cases}
                \left( \nabla h_i\left( x^* \right) \right)^t d = 0 & i \in \{1,\dots,m\} \\
                \left( \nabla g_i\left( x^* \right) \right)^t d = 0 & j \in \mathcal{A}\left( x^* \right)
            \end{cases}$
    \end{enumerate}
    Els punts \ref{nec:1}, \ref{nec:2} i \ref{nec:3} s\'on les condicions de 1r ordre del KKT i el punt \ref{nec:4} \'es la condici\'o de 2n ordre.
\end{prop}
\begin{prop}[Condicions suficients]
    Sgui $x^*$, \'es \`optim local si satisf\`a:
    \begin{enumerate}[i)]
        \item \label{suf:1} $h\left( x^* \right) = 0,\, g\left( x^* \right) \leq 0$.
        \item \label{suf:2} $\nabla_x \mathcal{L} \left( x^*, \lambda^*, \mu^* \right) = \nabla f\left( x^* \right) + \nabla h\left( x^* \right)\lambda^* + \nabla g\left( x^* \right)\mu^* = 0$.
        \item \label{suf:3} $\mu^* \geq 0$ i $\left( \mu^* \right)^t g\left( x^* \right) = 0$ ($g_i\left( x^* \right) < 0 \implies \mu_j^* = 0$).
        \item \label{suf:4} $d^t \nabla_{x_ix_j}^2 \mathcal{L}\left( x^*, \lambda^*, \mu^* \right) d > 0, \quad d \in M$.
    \end{enumerate}
    Els punts \ref{suf:1}, \ref{suf:2} i \ref{suf:3} s\'on les condicions de 1r ordre del KKT i el punt \ref{suf:4} \'es la condici\'o de 2n ordre.
\end{prop}
